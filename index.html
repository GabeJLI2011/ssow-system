<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Health & Safety Document Signing System</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { margin: 0; font-family: system-ui; }
        [contenteditable]:empty:before { content: attr(placeholder); color: #9CA3AF; }
    </style>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        function App() {
            const [currentUser, setCurrentUser] = useState(null);
            const [username, setUsername] = useState('');
            const [password, setPassword] = useState('');
            const [employees, setEmployees] = useState([]);

            useEffect(() => {
                const employeesData = localStorage.getItem('ssow-employees');
                if (employeesData) {
                    setEmployees(JSON.parse(employeesData));
                } else {
                    const defaultEmployees = [{
                        id: 'emp1',
                        name: 'Administrator',
                        username: 'admin',
                        password: 'admin123',
                        isAdmin: true
                    }];
                    localStorage.setItem('ssow-employees', JSON.stringify(defaultEmployees));
                    setEmployees(defaultEmployees);
                }
            }, []);

            const handleLogin = () => {
                const employee = employees.find(emp => 
                    emp.username === username && emp.password === password
                );
                if (employee) {
                    setCurrentUser(employee);
                    setUsername('');
                    setPassword('');
                } else {
                    alert('Invalid username or password');
                }
            };

            if (!currentUser) {
                return (
                    <div style={{minHeight: '100vh', background: 'linear-gradient(to bottom right, #EFF6FF, #E0E7FF)', display: 'flex', alignItems: 'center', justifyContent: 'center', padding: '20px'}}>
                        <div style={{background: 'white', borderRadius: '12px', boxShadow: '0 20px 25px -5px rgba(0,0,0,0.1)', padding: '40px', maxWidth: '400px', width: '100%'}}>
                            <div style={{textAlign: 'center', marginBottom: '30px'}}>
                                <h1 style={{fontSize: '28px', fontWeight: 'bold', color: '#111827', marginBottom: '8px'}}>Health & Safety</h1>
                                <p style={{color: '#6B7280'}}>Document Signing System</p>
                            </div>
                            <div style={{marginBottom: '20px'}}>
                                <label style={{display: 'block', fontSize: '14px', fontWeight: '500', color: '#374151', marginBottom: '8px'}}>Username</label>
                                <input
                                    type="text"
                                    value={username}
                                    onChange={(e) => setUsername(e.target.value)}
                                    onKeyPress={(e) => e.key === 'Enter' && handleLogin()}
                                    placeholder="Enter your username"
                                    style={{width: '100%', padding: '12px 16px', border: '1px solid #D1D5DB', borderRadius: '8px', fontSize: '16px'}}
                                />
                            </div>
                            <div style={{marginBottom: '20px'}}>
                                <label style={{display: 'block', fontSize: '14px', fontWeight: '500', color: '#374151', marginBottom: '8px'}}>Password</label>
                                <input
                                    type="password"
                                    value={password}
                                    onChange={(e) => setPassword(e.target.value)}
                                    onKeyPress={(e) => e.key === 'Enter' && handleLogin()}
                                    placeholder="Enter your password"
                                    style={{width: '100%', padding: '12px 16px', border: '1px solid #D1D5DB', borderRadius: '8px', fontSize: '16px'}}
                                />
                            </div>
                            <button
                                onClick={handleLogin}
                                disabled={!username.trim() || !password.trim()}
                                style={{width: '100%', background: '#4F46E5', color: 'white', padding: '12px', borderRadius: '8px', fontWeight: '500', border: 'none', cursor: 'pointer', fontSize: '16px', opacity: (!username.trim() || !password.trim()) ? 0.5 : 1}}
                            >
                                Sign In
                            </button>
                            <div style={{marginTop: '20px', padding: '12px', background: '#F9FAFB', borderRadius: '8px', fontSize: '12px', color: '#6B7280', textAlign: 'center'}}>
                                <p style={{margin: '4px 0'}}>Default login:</p>
                                <p style={{margin: '4px 0'}}>Username: <strong>admin</strong></p>
                                <p style={{margin: '4px 0'}}>Password: <strong>admin123</strong></p>
                            </div>
                        </div>
                    </div>
                );
            }

            return (
                <div style={{minHeight: '100vh', background: '#F9FAFB'}}>
                    <div style={{background: 'white', borderBottom: '1px solid #E5E7EB', padding: '20px'}}>
                        <div style={{maxWidth: '1200px', margin: '0 auto', display: 'flex', justifyContent: 'space-between', alignItems: 'center'}}>
                            <div>
                                <h1 style={{fontSize: '24px', fontWeight: 'bold', color: '#111827', margin: 0}}>Health & Safety Documents</h1>
                                <p style={{fontSize: '14px', color: '#6B7280', margin: '4px 0 0 0'}}>Signed in as {currentUser.name}</p>
                            </div>
                            <button
                                onClick={() => setCurrentUser(null)}
                                style={{background: '#EF4444', color: 'white', padding: '8px 16px', borderRadius: '8px', border: 'none', cursor: 'pointer', fontWeight: '500'}}
                            >
                                Logout
                            </button>
                        </div>
                    </div>
                    <div style={{maxWidth: '1200px', margin: '0 auto', padding: '40px 20px', textAlign: 'center'}}>
                        <h2 style={{fontSize: '32px', fontWeight: 'bold', color: '#111827', marginBottom: '16px'}}>ðŸŽ‰ System Successfully Deployed!</h2>
                        <p style={{fontSize: '18px', color: '#6B7280', marginBottom: '24px'}}>Your SSOW Document Signing System is now live and working!</p>
                        <div style={{background: 'white', borderRadius: '12px', padding: '32px', boxShadow: '0 4px 6px -1px rgba(0,0,0,0.1)', marginTop: '32px'}}>
                            <h3 style={{fontSize: '24px', fontWeight: 'bold', color: '#111827', marginBottom: '16px'}}>Next Steps:</h3>
                            <ol style={{textAlign: 'left', fontSize: '16px', color: '#374151', lineHeight: '1.8', maxWidth: '600px', margin: '0 auto'}}>
                                <li style={{marginBottom: '12px'}}>Return to Claude and tell me you're ready for the full code</li>
                                <li style={{marginBottom: '12px'}}>I'll provide the complete system with all features</li>
                                <li style={{marginBottom: '12px'}}>You'll paste it into GitHub (same way as this)</li>
                                <li style={{marginBottom: '12px'}}>Netlify will auto-update and you'll have everything working!</li>
                            </ol>
                        </div>
                        <div style={{background: '#FEF3C7', border: '1px solid #FCD34D', borderRadius: '8px', padding: '16px', marginTop: '24px'}}>
                            <p style={{color: '#92400E', fontWeight: '500', margin: 0}}>This is a test deployment. Your full system with all documents, employees, signatures, and features will be added next!</p>
                        </div>
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
